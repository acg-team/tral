
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>easy_setup for TRAL &#8212; TRAL 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/tral.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation of external software" href="install_external.html" />
    <link rel="prev" title="Installation" href="install.html" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700|Source+Code+Pro|Armata|IM+Fell+English'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head><body>
<div class="pageheader">
    <a href="http://www.isb-sib.ch/" class="sib_logo" title="SIB Swiss Institute of Bioinformatics"><img src="_static/sib.png" alt="SIB" class="sib_logo" /></a>
    <a href="index.html">
      <img class="headlogo" src="_static/trallogo.png" alt="TRAL" />
      <span class="headlogo">Tandem Repeat Annotation Library</span>
    </a>
    <div class="headlinks">
        <a href="index.html">Home</a>
        <a href="install.html">Install</a>
        <a href="code_docs.html">Code docs</a>
    </div>
</div>


      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">easy_setup for TRAL</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#installation-of-tral">Installation of TRAL</a><ul>
<li><a class="reference internal" href="#installation-of-external-software-for-tral">Installation of external software for TRAL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#uninstallation-of-tral-and-its-external-software">Uninstallation of TRAL and its external software</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="install.html"
                          title="previous chapter">Installation</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="install_external.html"
                          title="next chapter">Installation of external software</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/easy_setup.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="easy-setup-for-tral">
<span id="easy-setup"></span><h1>easy_setup for TRAL<a class="headerlink" href="#easy-setup-for-tral" title="Permalink to this heading">¶</a></h1>
<p>These scripts will help you to easily install TRAL and its dependencies without going too deep into detail of the different installation procedures.
It automatically sets up a little filesystem for TRAL.
Moreover, you can decide which external software should be downloaded and installed without the need to read through their (sometimes complicated) installation procedures.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">¶</a></h2>
<p>These installation scripts can be used on all Linux systems, but still require python3, pip, unzip and git.
Please make sure you use a python version &gt;= Python3.5.
Per default TRAL will be installed within the site-packages of python and its external software in <code class="docutils literal notranslate"><span class="pre">/usr/local/bin</span></code>. Then you may execute the scripts as root.
If you wish to change this path you can adjust
<code class="docutils literal notranslate"><span class="pre">$INSTALLATION_PATH</span></code> in <code class="docutils literal notranslate"><span class="pre">configTRAL.cfg</span></code></p>
<p>These setup scripts require <code class="docutils literal notranslate"><span class="pre">bash</span></code>, <code class="docutils literal notranslate"><span class="pre">python3</span></code>, <code class="docutils literal notranslate"><span class="pre">python-dev</span></code>, <code class="docutils literal notranslate"><span class="pre">pip</span></code>, <code class="docutils literal notranslate"><span class="pre">unzip</span></code>, and <code class="docutils literal notranslate"><span class="pre">git</span></code> and run on any UNIX based operation system.</p>
<p>Some of the external software has additional Prerequisits:
<code class="docutils literal notranslate"><span class="pre">HMMER</span></code>: <code class="docutils literal notranslate"><span class="pre">gcc</span></code>, <code class="docutils literal notranslate"><span class="pre">make</span></code>, <code class="docutils literal notranslate"><span class="pre">musl-dev</span></code>
<code class="docutils literal notranslate"><span class="pre">Castor</span></code>: <code class="docutils literal notranslate"><span class="pre">cmake</span></code>
<code class="docutils literal notranslate"><span class="pre">XSTREAM</span></code>: java (recommendation: default Java OpenJDK)</p>
<p>If you like to work in a virtual environment you need to install the respective software (e.g. virtenv).</p>
<p>We further recommend you to install the following python packages in order to have a good time with TRAL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="n">scipy</span> <span class="n">configobj</span> <span class="n">biopython</span> <span class="n">pyfaidx</span>
</pre></div>
</div>
</section>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this heading">¶</a></h2>
<p>It is recommended to use TRAL within its own virtual environment for python3, e.g. with virtenv.</p>
<p>To install virtenv just use pip install:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="n">virtenv</span>
</pre></div>
</div>
<p>Setup a virtenv and activate it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">virtualenv</span> <span class="o">-</span><span class="n">p</span> <span class="n">python3</span> <span class="n">env_tral</span>
<span class="n">source</span> <span class="n">env_tral</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>To get started with TRAL, simply clone the github directory <a class="reference external" href="https://github.com/acg-team/tral.git">https://github.com/acg-team/tral.git</a> or download the directory easy_setup and then execute the bash scripts as described below. For example, create a folder called tral_repository in <code class="docutils literal notranslate"><span class="pre">\home\user</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">tral_repository</span>
<span class="n">cd</span> <span class="n">tral_repository</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">acg</span><span class="o">-</span><span class="n">team</span><span class="o">/</span><span class="n">tral</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>If you haven’t git installed, you may need install git or to download the <a class="reference external" href="https://github.com/acg-team/tral/">TRAL repository</a> manually.</p>
</section>
<section id="installation-of-tral">
<h2>Installation of TRAL<a class="headerlink" href="#installation-of-tral" title="Permalink to this heading">¶</a></h2>
<p>You can adapt the default installing path within configTRAL_path.cfg. Please only change the variables FILES and <code class="docutils literal notranslate"><span class="pre">$INSTALLATION_PATH</span></code>.
It is recommended to install TRAL within a virtual environment (e. g. virtualenv) which has to be activated before.</p>
<p>To install TRAL within you can simply run the script setupTRAL.sh with either the argument “pip” or “setup”.</p>
<p>“setup” uses the github version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">./</span><span class="n">tral</span><span class="o">/</span><span class="n">easy_setup</span>
<span class="o">./</span><span class="n">setupTRAL</span><span class="o">.</span><span class="n">sh</span> <span class="n">setup</span>
</pre></div>
</div>
<p>“pip” uses the current TRAL version on <a class="reference external" href="https://pypi.org/project/tral/">pypi</a> manually:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">./</span><span class="n">tral</span><span class="o">/</span><span class="n">easy_setup</span>
<span class="o">./</span><span class="n">setupTRAL</span><span class="o">.</span><span class="n">sh</span> <span class="n">setup</span>
</pre></div>
</div>
<section id="installation-of-external-software-for-tral">
<h3>Installation of external software for TRAL<a class="headerlink" href="#installation-of-external-software-for-tral" title="Permalink to this heading">¶</a></h3>
<p>After installing TRAL with setupTRAL.sh you can install external software.
The script install_ext_software.sh automatically iterates through all installation scripts for each recommended external software of TRAL and ask you for each single software if you want to install it (press y/n). Please confirm to their respective licence.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">install_ext_software</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Currently, installation scripts for the following external software are available:</p>
<ul class="simple">
<li><p>alf</p></li>
<li><p>castor</p></li>
<li><p>hmmer</p></li>
<li><p>hhrepid</p></li>
<li><p>mafft</p></li>
<li><p>phobos</p></li>
<li><p>phyml</p></li>
<li><p>t-reks</p></li>
<li><p>trf</p></li>
<li><p>trust</p></li>
<li><p>xstream</p></li>
</ul>
<p>On the bottom of each installation script for the external software an uninstallation procedure can be found.
Either comment out all installation part and uncomment uninstallation part or run the commands directly in the commandline.</p>
<p>You may need to run these scripts as root (<code class="docutils literal notranslate"><span class="pre">$INSTALLATION_PATH</span></code> is <code class="docutils literal notranslate"><span class="pre">/usr/local/bin</span></code> per default).</p>
<p>If you install these external software not in a user path like the default usr/local/bin, you have to adapt your config.ini file in .tral for each external software. The .tral directory will be copied to your <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> directory automatically. TRAL only can find its configuration files if .tral is in your HOME directory. Otherwise provide a symlink (e.g. when installing on a cluster).</p>
</section>
</section>
<section id="uninstallation-of-tral-and-its-external-software">
<h2>Uninstallation of TRAL and its external software<a class="headerlink" href="#uninstallation-of-tral-and-its-external-software" title="Permalink to this heading">¶</a></h2>
<p>To uninstall TRAL (and is external software if you wish) run the script deleteTRAL.sh.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="o">.</span><span class="n">deleteTRAL</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>You will be asked if you want to uninstall the external software as well.
If you used sudo to install TRAL and its external software you will need to use sudo for the uninstallation too.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> \<span class="o">.</span><span class="n">deleteTRAL</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>To uninstall only all installed external software run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="o">.</span><span class="n">uninstall_all_ext_software</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>or in case you installed it with sudo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> \<span class="o">.</span><span class="n">uninstall_all_ext_software</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


  </body>
</html>